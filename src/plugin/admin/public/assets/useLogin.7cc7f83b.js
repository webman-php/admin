var I=Object.defineProperty;var y=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var w=(e,r,s)=>r in e?I(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,p=(e,r)=>{for(var s in r||(r={}))b.call(r,s)&&w(e,s,r[s]);if(y)for(var s of y(r))_.call(r,s)&&w(e,s,r[s]);return e};var g=(e,r,s)=>new Promise((n,d)=>{var P=o=>{try{l(s.next(o))}catch(R){d(R)}},f=o=>{try{l(s.throw(o))}catch(R){d(R)}},l=o=>o.done?n(o.value):Promise.resolve(o.value).then(P,f);l((s=s.apply(e,r)).next())});import{r as C,f as c,c as G,k as t}from"./index.f8bcf808.js";var S=(e=>(e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.RESET_PASSWORD=2]="RESET_PASSWORD",e[e.MOBILE=3]="MOBILE",e[e.QR_CODE=4]="QR_CODE",e))(S||{});const F=C(0);function A(){function e(n){F.value=n}const r=c(()=>F.value);function s(){e(0)}return{setLoginState:e,getLoginState:r,handleBackLogin:s}}function B(e){function r(){return g(this,null,function*(){const s=t(e);return s?yield s.validate():void 0})}return{validForm:r}}function E(e){const{t:r}=G(),s=c(()=>i(r("sys.login.accountPlaceholder"))),n=c(()=>i(r("sys.login.passwordPlaceholder"))),d=c(()=>i(r("sys.login.captchaPlaceholder"))),P=c(()=>i(r("sys.login.smsPlaceholder"))),f=c(()=>i(r("sys.login.mobilePlaceholder"))),l=(a,u)=>g(this,null,function*(){return u?Promise.resolve():Promise.reject(r("sys.login.policyPlaceholder"))}),o=a=>(u,m)=>g(this,null,function*(){return m?m!==a?Promise.reject(r("sys.login.diffPwd")):Promise.resolve():Promise.reject(r("sys.login.passwordPlaceholder"))});return{getFormRules:c(()=>{const a=t(s),u=t(n),m=t(d),v=t(P),O=t(f),h={sms:v,mobile:O};switch(t(F)){case 1:return p({account:a,password:u,confirmPassword:[{validator:o(e==null?void 0:e.password),trigger:"change"}],policy:[{validator:l,trigger:"change"}]},h);case 2:return p({account:a},h);case 3:return h;default:return{account:a,password:u,captcha:m}}})}}function i(e){return[{required:!0,message:e,trigger:"change"}]}export{S as L,E as a,B as b,A as u};
