var m=(a,c,o)=>new Promise((i,r)=>{var l=t=>{try{s(o.next(t))}catch(e){r(e)}},n=t=>{try{s(o.throw(t))}catch(e){r(e)}},s=t=>t.done?i(t.value):Promise.resolve(t.value).then(l,n);s((o=o.apply(a,c)).next())});import{B as h}from"./BasicForm.82e222ab.js";import{B as b,a as B}from"./index.a4e346ff.js";import{aJ as M,r as f,a as _,aL as u,o as g,aM as v,p as P,i as k,j as S,b8 as C,eZ as F,e_ as w,x as y}from"./index.f8bcf808.js";import"./index.14ba2351.js";import"./index.0e7d1863.js";import"./_baseIteratee.f49fbaac.js";import"./index.91cad2d2.js";import"./index.d82b2be8.js";import"./index.8cf0b441.js";import"./index.05080ca7.js";import"./index.b5bef3a7.js";import"./index.293b5840.js";import"./index.26a767f7.js";import"./uniqBy.0ae55b98.js";import"./download.b66616ed.js";import"./index.f2e779e6.js";import"./useWindowSizeFn.d2a0a89b.js";import"./FullscreenOutlined.f88b6f65.js";const d=f(null),O=_({components:{BasicForm:h,BasicModal:b},emits:["reload","register"],setup(a,{emit:c}){const o=f(""),i=[{field:"name",component:"Input",label:"name",colProps:{span:24},required:!0},{field:"pid",component:"ApiTreeSelect",label:"Super Menu",componentProps:{api:F,resultField:"list"},colProps:{span:24}},{field:"icon",component:"IconPicker",label:"icon",colProps:{span:24}},{field:"overwrite",component:"Checkbox",label:"Force Override",colProps:{span:24}}],[r,{closeModal:l}]=B(e=>m(this,null,function*(){var p;o.value=e.table,(p=d.value)==null||p.appendSchemaByField({field:"table",component:"Input",label:"",colProps:{span:0},componentProps:{hidden:!0},defaultValue:o},"")})),{createMessage:n}=y(),{success:s}=n;return{formElRef:d,handleSubmit:()=>m(this,null,function*(){try{const e=d.value;if(!e)return;const p=yield e.validate();yield w(p),l(),s("Successful operation"),c("reload")}catch(e){console.log(e)}}),schemas:i,register:r}}}),$={class:"mt-3"};function I(a,c,o,i,r,l){const n=u("BasicForm"),s=u("BasicModal");return g(),v(s,C(a.$attrs,{destroyOnClose:"",onRegister:a.register,title:"One-click menu generation",onOk:a.handleSubmit}),{default:P(()=>[k("div",$,[S(n,{schemas:a.schemas,ref:"formElRef",labelWidth:75,showActionButtonGroup:!1},null,8,["schemas"])])]),_:1},16,["onRegister","onOk"])}var U=M(O,[["render",I]]);export{U as default};
