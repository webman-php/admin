import{a as E,f as h,m as at,r as A,V as q,bR as et,_ as c,j as d,S as W,U as H,a8 as nt,aB as F,aa as T,cN as rt,T as P,J as p,b9 as ot,aR as lt,er as it,D as st,ba as ct,bb as ut,w as bt,v as dt}from"./index.bde7963b.js";function M(n){var t=n.prefixCls,o=n.value,a=n.current,e=n.offset,v=e===void 0?0:e,r;return v&&(r={position:"absolute",top:"".concat(v,"00%"),left:0}),d("p",{style:r,class:W("".concat(t,"-only-unit"),{current:a})},[o])}function ft(n,t,o){for(var a=n,e=0;(a+10)%10!==t;)a+=o,e+=o;return e}var gt=E({name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup:function(t){var o=h(function(){return Number(t.value)}),a=h(function(){return Math.abs(t.count)}),e=at({prevValue:o.value,prevCount:a.value}),v=function(){e.prevValue=o.value,e.prevCount=a.value},r=A();return q(o,function(){clearTimeout(r.value),r.value=setTimeout(function(){v()},1e3)},{flush:"post"}),et(function(){clearTimeout(r.value)}),function(){var f,i={},s=o.value;if(e.prevValue===s||Number.isNaN(s)||Number.isNaN(e.prevValue))f=[M(c(c({},t),{current:!0}))],i={transition:"none"};else{f=[];for(var b=s+10,u=[],g=s;g<=b;g+=1)u.push(g);var w=u.findIndex(function(m){return m%10===e.prevValue});f=u.map(function(m,y){var N=m%10;return M(c(c({},t),{value:N,offset:y-w,current:y===w}))});var x=e.prevCount<a.value?1:-1;i={transform:"translateY(".concat(-ft(e.prevValue,s,x),"00%)")}}return d("span",{class:"".concat(t.prefixCls,"-only"),style:i,onTransitionend:function(){return v()}},[f])}}}),mt=globalThis&&globalThis.__rest||function(n,t){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,a=Object.getOwnPropertySymbols(n);e<a.length;e++)t.indexOf(a[e])<0&&Object.prototype.propertyIsEnumerable.call(n,a[e])&&(o[a[e]]=n[a[e]]);return o},pt={prefixCls:String,count:T.any,component:String,title:T.any,show:Boolean},vt=E({name:"ScrollNumber",inheritAttrs:!1,props:pt,setup:function(t,o){var a=o.attrs,e=o.slots,v=H("scroll-number",t),r=v.prefixCls;return function(){var f,i=c(c({},t),a);i.prefixCls;var s=i.count,b=i.title;i.show;var u=i.component,g=u===void 0?"sup":u,w=i.class,x=i.style,m=mt(i,["prefixCls","count","title","show","component","class","style"]),y=c(c({},m),{style:x,"data-show":t.show,class:W(r.value,w),title:b}),N=s;if(s&&Number(s)%1===0){var Z=String(s).split("");N=Z.map(function(l,z){return d(gt,{prefixCls:r.value,count:Number(s),value:l,key:Z.length-z},null)})}x&&x.borderColor&&(y.style=c(c({},x),{boxShadow:"0 0 0 1px ".concat(x.borderColor," inset")}));var B=nt((f=e.default)===null||f===void 0?void 0:f.call(e));return B&&B.length?F(B,{class:W("".concat(r.value,"-custom-component"))},!1):d(g,y,{default:function(){return[N]}})}}});function _(n){return rt.indexOf(n)!==-1}var yt=globalThis&&globalThis.__rest||function(n,t){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,a=Object.getOwnPropertySymbols(n);e<a.length;e++)t.indexOf(a[e])<0&&Object.prototype.propertyIsEnumerable.call(n,a[e])&&(o[a[e]]=n[a[e]]);return o},ht=function(){return{prefix:String,color:{type:String},text:T.any,placement:{type:String,default:"end"}}},xt=E({name:"ABadgeRibbon",inheritAttrs:!1,props:ht(),slots:["text"],setup:function(t,o){var a=o.attrs,e=o.slots,v=H("ribbon",t),r=v.prefixCls,f=v.direction,i=h(function(){return _(t.color)}),s=h(function(){var b;return[r.value,"".concat(r.value,"-placement-").concat(t.placement),(b={},p(b,"".concat(r.value,"-rtl"),f.value==="rtl"),p(b,"".concat(r.value,"-color-").concat(t.color),i.value),b)]});return function(){var b,u,g=a.class,w=a.style,x=yt(a,["class","style"]),m={},y={};return t.color&&!i.value&&(m.background=t.color,y.color=t.color),d("div",P({class:"".concat(r.value,"-wrapper")},x),[(b=e.default)===null||b===void 0?void 0:b.call(e),d("div",{class:[s.value,g],style:c(c({},m),w)},[d("span",{class:"".concat(r.value,"-text")},[t.text||((u=e.text)===null||u===void 0?void 0:u.call(e))]),d("div",{class:"".concat(r.value,"-corner"),style:y},null)])])}}}),wt=function(){return{count:T.any,showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:T.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String}},St=E({name:"ABadge",Ribbon:xt,inheritAttrs:!1,props:wt(),slots:["text","count"],setup:function(t,o){var a=o.slots,e=o.attrs,v=H("badge",t),r=v.prefixCls,f=v.direction,i=h(function(){return t.count>t.overflowCount?"".concat(t.overflowCount,"+"):t.count}),s=h(function(){return t.status!==null&&t.status!==void 0||t.color!==null&&t.color!==void 0}),b=h(function(){return i.value==="0"||i.value===0}),u=h(function(){return t.dot&&!b.value}),g=h(function(){return u.value?"":i.value}),w=h(function(){var l=g.value===null||g.value===void 0||g.value==="";return(l||b.value&&!t.showZero)&&!u.value}),x=A(t.count),m=A(g.value),y=A(u.value);q([function(){return t.count},g,u],function(){w.value||(x.value=t.count,m.value=g.value,y.value=u.value)},{immediate:!0});var N=h(function(){var l;return l={},p(l,"".concat(r.value,"-status-dot"),s.value),p(l,"".concat(r.value,"-status-").concat(t.status),!!t.status),p(l,"".concat(r.value,"-status-").concat(t.color),_(t.color)),l}),Z=h(function(){return t.color&&!_(t.color)?{background:t.color}:{}}),B=h(function(){var l;return l={},p(l,"".concat(r.value,"-dot"),y.value),p(l,"".concat(r.value,"-count"),!y.value),p(l,"".concat(r.value,"-count-sm"),t.size==="small"),p(l,"".concat(r.value,"-multiple-words"),!y.value&&m.value&&m.value.toString().length>1),p(l,"".concat(r.value,"-status-").concat(t.status),!!t.status),p(l,"".concat(r.value,"-status-").concat(t.color),_(t.color)),l});return function(){var l,z,R,O=t.offset,D=t.title,U=t.color,J=e.style,$=ot(a,t,"text"),C=r.value,k=x.value,S=lt((z=a.default)===null||z===void 0?void 0:z.call(a));S=S.length?S:null;var Y=!!(!w.value||a.count),I=function(){if(!O)return c({},J);var V={marginTop:it(O[1])?"".concat(O[1],"px"):O[1]};return f.value==="rtl"?V.left="".concat(parseInt(O[0],10),"px"):V.right="".concat(-parseInt(O[0],10),"px"),c(c({},V),J)}(),G=D!=null?D:typeof k=="string"||typeof k=="number"?k:void 0,K=Y||!$?null:d("span",{class:"".concat(C,"-status-text")},[$]),Q=st(k)==="object"||k===void 0&&a.count?F(k!=null?k:(R=a.count)===null||R===void 0?void 0:R.call(a),{style:I},!1):null,L=W(C,(l={},p(l,"".concat(C,"-status"),s.value),p(l,"".concat(C,"-not-a-wrapper"),!S),p(l,"".concat(C,"-rtl"),f.value==="rtl"),l),e.class);if(!S&&s.value){var X=I.color;return d("span",P(P({},e),{},{class:L,style:I}),[d("span",{class:N.value,style:Z.value},null),d("span",{style:{color:X},class:"".concat(C,"-status-text")},[$])])}var tt=ct(S?"".concat(C,"-zoom"):"",{appear:!1}),j=c(c({},I),t.numberStyle);return U&&!_(U)&&(j=j||{},j.background=U),d("span",P(P({},e),{},{class:L}),[S,d(ut,tt,{default:function(){return[bt(d(vt,{prefixCls:t.scrollNumberPrefixCls,show:Y,class:B.value,count:m.value,title:G,style:j,key:"scrollNumber"},{default:function(){return[Q]}}),[[dt,Y]])]}}),K])}}});export{St as B,xt as R};
