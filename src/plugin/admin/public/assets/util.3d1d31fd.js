import{cC as u}from"./index.02bbedaf.js";function l(t){return(i,n)=>u.uploadFile({url:t||"/app/admin/common/upload/file",onUploadProgress:n},i)}function T(t){return i=>u.get({url:t,params:i})}function m(t){return t==="true"?!0:t==="false"?!1:String(Number(t))===t?Number(t):t}function x(t,i,n){i=m(i);let r=t.control;const o={disabled:n=="edit"?t.readonly:!1};let c=t.control_args;if(r=="Switch"&&(n=="search"?(r="Select",c="options:1:Yes, 0: No"):i=!!i),r=="DatePicker"&&(o.showTime=!0),(r=="ApiTreeSelect"||r=="ApiTree")&&(o.resultField="list",i&&o.multiple&&typeof i!="number"&&(i=i.split(","))),c)for(const f of c.split(";")){let p=f.indexOf(":");if(p==-1)continue;const s=f.substring(0,p).trim();let e=f.substring(p+1).trim();if(r=="Upload"&&s==="url"){o.api=l(e);continue}if(r=="Select"&&s=="url"&&(r="ApiSelect"),(r=="ApiTreeSelect"||r=="ApiTree"||r=="ApiSelect")&&s==="url"&&(o.api=T(e)),p=e.indexOf(":"),p!==-1){const A=e.split(",");e=[];for(const S of A){const[b,g]=S.split(":");e.push({value:b,label:g})}}o[s]=m(e)}return r=="Upload"&&(n=="search"?r="Input":(i?(i=i.split(","),o.value=i):o.value=[],o.api||(o.api=l()))),[r,o,i]}export{x as t};
